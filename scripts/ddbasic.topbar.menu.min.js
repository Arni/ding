/**
 * Creates the top-bar toggle menu.
 */(function(e){"use strict";function t(t){var n=e(".js-topbar-link.topbar-link-search"),r=e(".header-wrapper"),i=e(".js-topbar-search");t=typeof t!="undefined"?t:!1;if(t)if(e("body").hasClass("front")){n.addClass("active");i.show();r.show()}else{n.removeClass("active");i.hide();r.hide()}else{n.toggleClass("active");i.toggle();r.toggle()}}function n(t){var n=e(".js-topbar-link.topbar-link-menu"),r=e(".js-topbar-menu");t=typeof t!="undefined"?t:!1;if(t)n.removeClass("active");else{n.toggleClass("active");r.toggleClass("js-topbar-toggled")}}function r(t){var n=e(".js-topbar-link.topbar-link-user"),r=e(".header-wrapper"),i=e(".js-topbar-user");t=typeof t!="undefined"?t:!1;if(t){i.hide();r.hide()}else{n.toggleClass("active");i.toggle();r.toggle()}}e(document).ready(function(){n(!0);r(!0);t(!0);e(".js-topbar-link.topbar-link-search").on("click touchstart",function(i){e(".js-topbar-link.topbar-link-menu").hasClass("active")&&n();e(".js-topbar-link.topbar-link-user").hasClass("active")&&r();t();i.preventDefault()});e(".js-topbar-link.topbar-link-menu").on("click touchstart",function(i){e(".js-topbar-link.topbar-link-search").hasClass("active")&&t();e(".js-topbar-link.topbar-link-user").hasClass("active")&&r();n();i.preventDefault()});e(".js-topbar-link.topbar-link-user").on("click touchstart",function(i){e(".js-topbar-link.topbar-link-search").hasClass("active")&&t();e(".js-topbar-link.topbar-link-menu").hasClass("active")&&n();r();i.preventDefault()});if(e(".pane-taxonomy-menu").length>0){e(".pane-taxonomy-menu .sub-menu").clone().appendTo(".active.menu-mlid-1793");e(".main-menu .sub-menu").addClass("main-menu");e(".main-menu .sub-menu a").addClass("menu-item");e(".main-menu .sub-menu").removeClass("sub-menu");e(".pane-news-category-menu").addClass("sub-menu-wrapper")}if(e(".library-menu").length>0){e(".library-menu").clone().insertAfter(".primary-content .ding-library-image");e(".primary-content .library-menu").addClass("js-library-menu-responsive");e(".primary-content .library-menu").removeClass("library-menu");e(".js-library-menu-responsive .links").wrap("<select></select>");e(".js-library-menu-responsive .links").removeClass("links");e(".js-library-menu-responsive select li").wrap("<option class='select-item'></option>");e(".js-library-menu-responsive select .select-item").unwrap();e(".primary-content .js-library-menu-responsive select .select-item").each(function(){e(this).attr("value",function(){return e(this).find("a").attr("href")})});e(".primary-content .js-library-menu-responsive select li a").unwrap();e(".primary-content .js-library-menu-responsive select a").replaceWith(function(){return e(this).contents()})}e(".js-library-menu-responsive select").change(function(){document.location.href=e(this).val()})})})(jQuery);