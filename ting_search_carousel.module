<?php
/**
 * @file
 *
 * Ting search carousel module main file.
 */

/**
 * Implements hook_menu().
 */
function ting_search_carousel_menu() {
  $path = drupal_get_path('module', 'ting_search_carousel');
  $items = array();

  $items['admin/settings/ting_search_carousel'] = array(
    'title' => 'Ting search carousel',
    'description' => '',
    'page callback' => 'ting_search_carousel_admin_page',
    'page arguments' => array(),
    'access arguments' => array('access administration pages'),
    'file' => 'ting_search_carousel.admin.inc'
  );

  $items['ting_search_carousel/results/ajax'] = array(
    'title' => 'Show search carousel results',
    'page callback' => 'ting_search_carousel_result',
    'access arguments' => array('access content'),
    'file' => 'ting_search_carousel.pages.inc',
    'type' => MENU_CALLBACK,
  );

  return $items;
}

/**
 * Implements hook_theme().
 */
function ting_search_carousel_theme($existing, $type, $theme, $path) {
  $hooks = array();
  $hooks['ting_search_carousel'] = array(
    'variables' => array('searches' => NULL),
    'template' => 'ting_search_carousel'
  );
  
  $hooks['ting_search_carousel_collection'] = array(
    'variables' => array('collection' => NULL),
    'template' => 'ting_search_carousel_collection'
  );

  $hooks['ting_search_carousel_admin_form'] = array(
    'render element' => 'form',
  );

  return $hooks;
}

/**
 * Implements hook_ctools_plugin_directory().
 */
function ting_search_carousel_ctools_plugin_directory($module, $plugin) {
  if ($module == 'ctools' || $module == 'panels') {
    return 'plugins/' . $plugin;
  }
}
