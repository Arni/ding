// =============================================================================
//
// Layout
//
// Base layout stuff and shared styling 
//
// @author magnify
//
// =============================================================================


body {
  background-attachment: fixed;
  background-size: cover;

  @include small-medium-low() {
    &.js-fixed-body {
      bottom: 0;
      left: 0;
      position: fixed;
      right: 0;
      top: 0;
    }
  }
}

.header-wrapper {
  background-color: $base-primary-color;

  .header-inner {
    margin-left: auto;
    margin-right: auto;
    max-width: 1200px;
    overflow: visible;
  }
}


.content-inner {
  margin-left: auto;
  margin-right: auto;
  max-width: 1200px;
  overflow: visible;
}


.ding-default-layout {
  .layout-wrapper {
    @include zen-clear(left);

    background-color: $white;
    margin-right: 10px;
    margin-left: 10px;
    overflow: hidden;
    padding-top: 20px;
    padding-right: 10px;
    padding-left: 10px;
  }

  .primary-content,
  .secondary-content,
  .tertiary-content {
    margin-bottom: 20px;
    padding-right: 10px;
    padding-left: 10px;
  }

  .primary-content {
    @include zen-grid-item(9, 1, right);
  }

  .secondary-content {
    @include zen-grid-item(3, 1);
  }

  .tertiary-content {
    @include zen-grid-item(4, 1, right);
  }
}


%grid-inner-padding {
  padding: 20px;
}


// -----------------------------------------------------------------------------
// Layout template for 3 column panel layout delivered by ding_frontend
// Left and Right sidebar content is optional
// This template extends on ddbasic displays and ddbasic displays
// -----------------------------------------------------------------------------
//
.ding-default-layout {
  .attachments-wrapper {
    @include zen-grid-container;
    @include zen-clear();

    margin-bottom: $large-spacing;

    .grid-inner {
      @extend %grid-inner-padding;
    }
  }

  .attachments-4-4 {
    @include attachment-25-25-25-25;
  }

  .attachments-3-3 {
    @include attachment-33-33-33-100;
  }

  .attachments-2-2 {
    @include attachment-50-50-100-100;
  }

  .attachments-1-1 {
    @include attachment-100-100-100-100;
  }
}

.sidebars {
  @include medium() {
    @include display-25-50-25;
  }

  @include large() {
    @include display-25-50-25;
  }

  .grid-inner {
    @extend %grid-inner-padding;
  }
}

.empty-sidebars {
  @include medium() {
    @include display-100-50-50;
  }

  @include large() {
    @include display-100-50-50;
  }

  .grid-inner {
    @extend %grid-inner-padding;
  }
}

.left-sidebar {
  @include medium() {
    @include ddbasic-display-33-66-secondary;
  }

  @include large() {
    @include ddbasic-display-33-66-secondary;
  }

  .grid-inner {
    @extend %grid-inner-padding;
  }
}

.right-sidebar {
  @include medium() {
    @include ddbasic-display-66-33-tertiary;
  }

  @include large() {
    @include ddbasic-display-66-33-tertiary;
  }

  .grid-inner {
    @extend %grid-inner-padding;
  }
}



.ding-layout-1 {
  margin-top: $large-spacing;

  .primary-content,
  .secondary-content,
  .tertiary-content {
    margin-bottom: 20px;
    padding-right: 10px;
    padding-left: 10px;
  }

  .primary-content {
    @include zen-grid-item(12, 1);
  }

  .layout-wrapper {
    @include zen-clear(left);

    background-color: $white;
    margin-right: 10px;
    margin-left: 10px;
    overflow: hidden;
    padding-top: 20px;
    padding-right: 10px;
    padding-left: 10px;
  }

  .secondary-content {
    @include zen-grid-item(8, 1);
  }

  .tertiary-content {
    @include zen-grid-item(4, 1, right);
  }

  @include small-medium() {
    .primary-content {
      @include zen-grid-item(12, 1);
    }

    .secondary-content {
      @include zen-grid-item(12, 1);
      @include zen-clear();
    }

    .tertiary-content {
      @include zen-grid-item(12, 1);
      @include zen-clear();
    }

    .attachments-4-4 {
      @include attachment-25-25-25-25;
    }

    .attachments-3-3 {
      @include attachment-33-33-33-100;
    }

    .attachments-2-2 {
      @include attachment-50-50-100-100;
    }

    .attachments-1-1 {
      @include attachment-100-100-100-100;
    }
  }
}


// -----------------------------------------------------------------------------
// Site header, fixed position
// -----------------------------------------------------------------------------
//
.site-header {
  @include large-x-large() {
    &.js-fixed {
      position: fixed;
      z-index: 99;
      width: 100%;

      .topbar-menu {
        margin-top: 0;
      }

      .site-name-wrapper {
        margin-top: 10px;

        .site-name {
          @include rem('font-size', 24px);
        }
      }

      .header-wrapper {
        padding-top: 10px;
        padding-bottom: 10px;

        .user-name {
          display: none !important;
        }
      }

      .navigation-wrapper {
        .menu-item {
          padding-top: 10px;
          padding-bottom: 10px;
        }
      }
    }
  }

  @include small-medium() {
    &.js-fixed {
      .topbar {
        position: fixed;
        z-index: 99;
        width: 100%;
      }
    }
  }
}

// -----------------------------------------------------------------------------
// Topbar, site name, slogan and logo
// -----------------------------------------------------------------------------
//
.topbar {
  background-color: transparentize($black, .15);

  .topbar-inner {
    margin-left: auto;
    margin-right: auto;
    max-width: 1200px;
    overflow: hidden;
    position: relative;
  }
}

.site-name-wrapper {
  @include zen-grid-item(4, 1);

  margin-top: 30px;

  @include small-medium() {
    @include zen-grid-item(6, 1);

    margin-top: 6px;
  }
}

.site-name {
  @include rem('font-size', 30px);

  font-family: $font-bold;
  font-weight: $base-font-weight-bold;
  margin-bottom: 0;

  a,
  a:link,
  a:visited,
  a:active {
    background-color: transparent;
    color: $white;
    text-decoration: none;
  }

  @include small-medium() {
    @include rem('font-size', 24px);
  }

  @include small() {
    @include rem('font-size', 16px);
  }
}

.site-name-with-slogan {
  @extend .site-name;
}

.site-slogan {
  color: $white;
  margin-top: $medium-spacing;
  margin-left: 2px;
}

.logo {
  @include zen-grid-item(4, 1);
}


// **
// Footer
// **
//
.footer {
  @include attachment-25-25-25-25;

  background-color: #262626;
  overflow: hidden;
  padding-top: 30px;

  .pane-title {
    @include rem('font-size', 18px);
  }

  @include medium() {
    @include attachment-50-50-50-50;
  }

  @include small() {
    @include attachment-100-100-100-100;
  }
}

.footer-inner {
  margin-left: auto;
  margin-right: auto;
  max-width: 1200px;
  overflow: visible;
}

.footer-block {
  @extend %block;
  @extend %link-inverted;

  background-color: transparent;
  color: $white;
}

.bottom {
  background-color: #191919;
  color: white;
  padding-top: 20px;
  padding-bottom: 20px;
  text-align: center;
}


// **
// Facet browser
// **
//
.facet-browser {
  @extend .tertiary-menu-wrapper;
}


// **
// Pager
// **
//
.pager {
  padding-left: 0;

  li {
    display: inline-block;
    margin-left: -4px;
    margin-right: 4px;

    &.pager-current,
    a {
      background-color: $gray-light;
      display: inline-block;
      padding-top: $small-spacing;
      padding-right: 15px;
      padding-bottom: $small-spacing;
      padding-left: 15px;
    }
  }

  .active a,
  .active a:hover {
    cursor: default;
    text-decoration: underline;
  }

  .disabled {
    background-color: $gray-lighter;
  }
  .disabled a:hover {
    cursor: default;
    text-decoration: none;
  }
}


// **
// Signature
// **
//
.signature {
  border-top: 1px solid $gray-light;
  border-bottom: 1px solid $gray-light;

  margin-bottom: $large-spacing;
  padding-top: $large-spacing;
  padding-bottom: $large-spacing;

  .signature-image {
    img {
      float: left;
      margin-top: $small-spacing;
      margin-right: $large-spacing;
     }
  }

  .signature-label {
    display: inline-block;
    min-width: 125px;
  }
}

.signature .tags a {
  display: inline-block;
  margin-right: 0.3em;
}

.signature .tags a:not(:last-child):after {
  content: ",";
}


// =============================================================================
// Drupal styling overrides
// =============================================================================
//
body.toolbar {
  padding-top: 66px;
}


ul li.leaf {
  list-style: none;
}


// **
// Drupal specific buttons. Extends from _ddbasic.buttons.scss
// **
//
#edit-cancel {
  margin-left: .3em;
}


.form-item, .form-actions {
  margin-bottom: 0;
  margin-top: 0;
}


.form-submit,
#edit-cancel {
  @extend .button;
}



.feed-icon {
  height: 16px;

  img {
    max-width: 16px;
  }
}


.ajax-progress,
.ajax-progress-throbber {
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.3);
  position: fixed;
  top: 0;
  left: 0;
  z-index: 500;
  vertical-align: middle;
  text-align: center;
}

.ajax-progress .throbber {
  @extend .icon-spin;
  @extend .icon-spinner;

  background: none !important; // Make sure the Drupal throbber is not visible in IE
  color: #000;
  font-family: $base-icon-library-font;
  font-size: 50px;
  height: auto;
  left: 48%;
  position: relative;
  top: 48%;
  width: 50px;
}

thead {
  th {
    background-color: darken($gray-light, 8%);
  }
}

tr.even {
  background-color: $gray-light;
}

tr.odd {
  background-color: darken($gray-light, 4%);
}


.field {
  .field-label {
    font-family: $font-bold;
    font-weight: $base-font-weight-bold;
  }
}

.field-label {
  margin-right: $small-spacing;
}
